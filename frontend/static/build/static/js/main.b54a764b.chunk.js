(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{156:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(11),s=a.n(o);a(94),a(95),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(23),r=a(26);a(96);var i=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"nav"},l.a.createElement("ul",{className:"nav-bar"},l.a.createElement(c.b,{className:"nav-link",to:"/"},"Home Page"),l.a.createElement(c.b,{className:"nav-link",to:"/accounts/login"},"Login"),l.a.createElement(c.b,{className:"nav-link",to:"/schedule"},"Schedule"),l.a.createElement(c.b,{className:"nav-link",to:"/jobs/new"},"AddJob"),l.a.createElement(c.b,{className:"nav-link",to:"/jobs/edit"},"JobEdit"))),e.children)},u=a(17),m=a(12),p=a(13),d=a(15),h=a(14),b=a(16),E=a(4),g=a.n(E);g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var f=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),g()({method:"POST",url:"/api/v1/rest-auth/login/",data:a.state}).then((function(e){console.log(e),localStorage.setItem("token",e.data.token),a.props.history.push("/schedule")})).catch((function(e){console.log(e)}))},a.state={username:"",password:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:" hero"},l.a.createElement("div",{className:"login-form"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"container"},l.a.createElement("input",{className:"login-input",type:"text",name:"username",placeholder:"Enter username",value:this.state.username,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Login"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn-light",value:"register"},l.a.createElement(c.b,{className:"register",to:"/accounts/register"},"Register"))))))}}]),t}(l.a.Component);g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var v=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),g()({method:"POST",url:"/api/v1/rest-auth/registration/",data:a.state}).then((function(e){console.log(e),localStorage.setItem("token",e.data.key),a.props.history.push("/schedule")})).catch((function(e){console.log(e)}))},a.state={username:"",password1:"",password2:"",email:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password1",placeholder:"password",value:this.state.password1,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password2",placeholder:"confirm password",value:this.state.password2,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",value:"Register"},"Register"))}}]),t}(l.a.Component),j=a(186);a(156);var S=function(e){return l.a.createElement("div",null,l.a.createElement(j.a,{className:"container"},l.a.createElement(j.a,null,l.a.createElement(j.a.Item,null,l.a.createElement("img",{className:" carousel-image",src:"https://gravityjack.com/wp-content/uploads/2016/08/mobile-app-communication.jpg",alt:"First slide"}),l.a.createElement(j.a.Caption,null,l.a.createElement("p",null,"REAL TIME COMMUNICATION AT YOUR FINGERTIPS"))),l.a.createElement(j.a.Item,null,l.a.createElement("img",{className:"d-block w-100 carousel-image",src:"https://integratedwork.com/wp-content/uploads/2018/05/Ideas-e1527025600841.png",alt:"Third slide"}),l.a.createElement(j.a.Caption,null)),l.a.createElement(j.a.Item,null,l.a.createElement("img",{className:"d-block w-100 carousel-image",src:"https://integratedwork.com/wp-content/uploads/2018/05/Communications-Flow-Graphic.png",alt:"Third slide"}),l.a.createElement(j.a.Caption,null)))))},O=a(28),C=a(185),k=a(84),N=a.n(k);g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleStatus=function(e){console.log("event firing onchange")},a.state={status:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t={not_started:"Not Started",in_progress:"In Progress",complete:"Completed"}[this.props.job.status];return l.a.createElement("tr",{className:"schedule.color"},l.a.createElement("td",{className:"schedule.list"},this.props.index),l.a.createElement("td",null,N()(this.props.job.start_date).format("LL")),l.a.createElement("td",null,l.a.createElement("a",{href:"/jobs/detail/"+this.props.job.id},this.props.job.location)),l.a.createElement("td",null,this.props.job.supervisor.username),l.a.createElement("td",null,l.a.createElement(C.a,{className:"button"},l.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic",onChange:this.handleStatus},t),l.a.createElement(C.a.Menu,null,l.a.createElement(C.a.Item,{name:"not_started",onClick:function(t){return e.props.updateStatus("not_started",e.props.job)}},"Not Started"),l.a.createElement(C.a.Item,{name:"in_progress",onClick:function(t){return e.props.updateStatus("in_progress",e.props.job)}},"In Progress"),l.a.createElement(C.a.Item,{name:"complete",onClick:function(t){return e.props.updateStatus("complete",e.props.job)}},"Completed")))))}}]),t}(l.a.Component),w=a(182),I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getJobs=function(){g.a.get("/api/v1/jobs/").then((function(e){a.setState({jobs:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.updateStatus=function(e,t){g.a.patch("/api/v1/jobs/".concat(t.id,"/"),{status:e}).then((function(n){console.log("update sent",n.data);var l=Object(O.a)(a.state.jobs),o=l.indexOf(t);l[o].status=e,a.setState({jobs:l}),"complete"===e&&g.a.post("/api/v1/twiliocall/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.state={jobs:[]},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJobs()}},{key:"render",value:function(){var e=this;console.log("job list component");var t=this.state.jobs.map((function(t){return l.a.createElement(y,{key:t.id,job:t,updateStatus:e.updateStatus})}));return l.a.createElement(w.a,{responsive:!0},l.a.createElement("thead",{className:"head-item"},l.a.createElement("tr",{className:"ttr"},l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Start Date"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Supervisor"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,t))}}]),t}(l.a.Component),x=a(183),_=a(184),D=a(88),T=a.n(D),R=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL;g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSelection=function(e,t){a.setState(Object(u.a)({},e.target.name,t))},a.handleSubmit=function(e){e.preventDefault(),console.log(e.target.name);var t=Object.assign({},a.state),n=new FormData;n.append("start_date",t.start_date),n.append("location",t.location),n.append("details",t.details),n.append("materials",JSON.stringify(t.materials)),g()({method:"POST",url:"http://localhost:3000/api/v1/jobs/",data:n}).then((function(e){console.log(e),a.props.history.push("/schedule/")})).catch((function(e){console.log(e)}))},a.getSupervisors=function(){g.a.get("".concat(R,"/api/v1/supervisors/")).then((function(e){console.log("response",e.data),a.setState({supervisors:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.getEmployees=function(){g.a.get("".concat(R,"/api/v1/employees/")).then((function(e){a.setState({availableEmployees:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.getMaterials=function(){g.a.get("".concat(R,"/api/v1/materials/")).then((function(e){console.log("response",e.data);var t=Object(O.a)(a.state.availableMaterials);e.data.map((function(e){var a={};a.value=e.text,t.push(a)})),a.setState({availableMaterials:t})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.state={start_date:"",location:"",details:"",materials:[],employee_assigned:"",supervisor:"",supervisors:[],availableEmployees:[],availableMaterials:[]},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getSupervisors(),this.getMaterials(),this.getEmployees()}},{key:"render",value:function(){var e=this;console.log("state",this.state);var t=this.state.supervisors.map((function(t){return l.a.createElement(C.a.Item,{name:"supervisor",onClick:function(a){return e.handleSelection(a,t)}},t.first_name+" "+t.last_name)}));return l.a.createElement("div",{className:"add-job-form"},"here i am",l.a.createElement(x.a,null,l.a.createElement(_.a,{md:4},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("h4",null,"Add Job"),l.a.createElement("input",{className:"add-input",type:"text",name:"start_date",placeholder:"Start Date",value:this.state.start_date,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement("textarea",{rows:"5",type:"text",name:"details",placeholder:"Details",value:this.state.details,onChange:this.handleInput}),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic"},this.state.supervisor?this.state.supervisor.first_name+" "+this.state.supervisor.last_name:"Select Supervisor"),l.a.createElement(C.a.Menu,null,t)),l.a.createElement(T.a,{className:"select-materials",data:this.state.availableMaterials,multiple:!0}),l.a.createElement("br",null),l.a.createElement("button",{name:"save-and-add",onClick:this.handleSubmit},"Save and add another"),l.a.createElement("button",{name:"save",onClick:this.handleSubmit},"Save"))),l.a.createElement(_.a,{md:8},l.a.createElement("img",{className:"imgAddJob",src:"https://blogin.co/uploads/images/naslovna.png"}))),l.a.createElement(x.a,{className:"boxImg"},l.a.createElement(_.a,{md:6},l.a.createElement("img",{className:"imgLeft",src:"https://blogin.co/uploads/images/naslovna.png"})),l.a.createElement(_.a,{md:6},l.a.createElement("img",{className:"imgRight",src:"https://blogin.co/uploads/images/naslovna.png"}))))}}]),t}(l.a.Component);g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var J=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getJob=function(){g.a.get("/api/v1/jobs/".concat(a.props.match.params.id)).then((function(e){var t=Object.assign(a.state,e.data);a.setState(t)})).catch((function(e){console.log(e)}))},a.handleInput=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),g.a.put("/api/v1/jobs/".concat(a.state.id),a.state).then((function(e){var t=Object.assign(a.state,e.data);a.setState(t)})).catch((function(e){console.log(e)}))},a.handleDelete=function(){g.a.delete("/api/v1/jobs/".concat(a.state.id)).then((function(e){a.props.history.push("/schedule/")})).catch((function(e){console.log(e)}))},a.state={location:"",details:"",status:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJob()}},{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",{className:"job_edit"},l.a.createElement(x.a,null,l.a.createElement(_.a,{md:4},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("h4",null,"Edit"),l.a.createElement("input",Object(u.a)({type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleInput},"name","location")),l.a.createElement("br",null),l.a.createElement("input",Object(u.a)({type:"text",name:"location",placeholder:"Details",value:this.state.details,onChange:this.handleInput},"name","details")),l.a.createElement("br",null),l.a.createElement("input",Object(u.a)({type:"text",name:"location",placeholder:"Status",value:this.state.status,onChange:this.handleInput},"name","status")),l.a.createElement("br",null),l.a.createElement("button",null,"Save"),l.a.createElement("button",{type:"button",onClick:this.handleDelete},"Delete"))),l.a.createElement(_.a,{md:8},l.a.createElement("img",{className:"imgAddJob",src:"https://blogin.co/uploads/images/naslovna.png"}))),l.a.createElement(x.a,{className:"boxImg"},l.a.createElement(_.a,{md:6}),l.a.createElement(_.a,{md:8},l.a.createElement("img",{src:"http://remotework.works/wp-content/uploads/2018/06/BurstCommunicationProcess-1024x360.png"}))))}}]),t}(l.a.Component),L=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL;g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.state={text:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:function(t){return e.props.addComment(t,e.state.text)}},l.a.createElement("input",{type:"text",name:"text",value:this.state.text,onChange:this.handleInput}),l.a.createElement("button",null,"Save Comment"))}}]),t}(l.a.Component),A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).deleteComment=function(e){var t=Object(O.a)(a.state.comments);g.a.delete("/api/v1/comments/".concat(e.id)).then((function(n){var l=t.indexOf(e);t.splice(l,1),a.setState({comments:t})})).catch((function(e){console.log(e)}))},a.getJob=function(){g.a.get("/api/v1/jobs/".concat(a.props.match.params.id)).then((function(e){a.setState(e.data)})).catch((function(e){console.log(e)}))},a.addComment=function(e,t){e.preventDefault(),console.log("text",t);var n=Object(O.a)(a.state.comments),l={method:"POST",headers:{"content-type":"application/json"},data:{text:t,job:a.state.id,user:20},url:"".concat(L,"/api/v1/comments/")};g()(l).then((function(e){console.log(e),n.push(e.data),a.setState({comments:n})})).catch((function(e){console.log(e)}))},a.state={supervisor:"",employees:[],location:"",details:"",materials:[],start_date:"",status:"",comments:[]},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJob()}},{key:"render",value:function(){var e=this,t=this.state.employees.map((function(e){return l.a.createElement("div",{key:e.id},e.username)})),a=this.state.materials.map((function(e){return l.a.createElement("div",{key:e.id},e.text)})),n=this.state.comments.map((function(t){return l.a.createElement("div",{key:t.id},t.text,l.a.createElement("button",{type:"button",onClick:function(){return e.deleteComment(t)}},"Delete"))}));return l.a.createElement("div",null,l.a.createElement("h3",null,this.state.location),l.a.createElement("p",null,"Supervisor- ",this.state.supervisor.username),l.a.createElement("p",null,"Details- ",this.state.details),l.a.createElement("p",null,"Employees:"),t,l.a.createElement("br",null),l.a.createElement("p",null,"Materials:"),a,l.a.createElement("br",null),l.a.createElement("p",null,"Start Date- ",this.state.start_date),l.a.createElement("p",null,"Job Status- ",this.state.status),l.a.createElement("br",null),l.a.createElement("p",null,"Comments:"),n,l.a.createElement(P,{addComment:this.addComment}))}}]),t}(l.a.Component);s.a.render(l.a.createElement(c.a,null,l.a.createElement(i,null,l.a.createElement(r.c,null,l.a.createElement(r.a,{path:"/accounts/login",component:f}),l.a.createElement(r.a,{path:"/accounts/register",component:v}),l.a.createElement(r.a,{path:"/schedule/",component:I}),l.a.createElement(r.a,{path:"/jobs/new/",component:M}),l.a.createElement(r.a,{path:"/jobs/edit/",component:J}),l.a.createElement(r.a,{path:"/jobs/detail/:id/",component:A}),l.a.createElement(r.a,{exact:!0,path:"/",component:S})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){e.exports=a(180)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.b54a764b.chunk.js.map