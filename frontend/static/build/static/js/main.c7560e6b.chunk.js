(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{156:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),s=a.n(l);a(94),a(95),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(20),c=a(27);a(96);var i=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"nav"},o.a.createElement("ul",{className:"nav-bar"},o.a.createElement(r.b,{className:"nav-link",to:"/"},"Home Page"),o.a.createElement(r.b,{className:"nav-link",to:"/accounts/login"},"Login"),o.a.createElement(r.b,{className:"nav-link",to:"/accounts/login",onClick:function(){return localStorage.clear(),console.log("hello")}},"Logout"),o.a.createElement(r.b,{className:"nav-link",to:"/schedule"},"Schedule"),o.a.createElement(r.b,{className:"nav-link",to:"/jobs/new"},"AddJob"))),e.children)},m=a(23),u=a(12),p=a(13),d=a(15),h=a(14),g=a(16),E=a(4),b=a.n(E);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),b()({method:"POST",url:"/api/v1/rest-auth/login/",data:a.state}).then((function(e){console.log(e),localStorage.setItem("token",e.data.token),a.props.history.push("/schedule")})).catch((function(e){console.log(e)}))},a.state={username:"",password:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:" hero"},o.a.createElement("div",{className:"login-form"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"container"},o.a.createElement("input",{className:"login-input",type:"text",name:"username",placeholder:"Enter username",value:this.state.username,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",value:"Login"}),o.a.createElement("br",null),o.a.createElement("button",{className:"btn-light",value:"register"},o.a.createElement(r.b,{className:"register",to:"/accounts/register"},"Register"))))))}}]),t}(o.a.Component);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var v=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),b()({method:"POST",url:"/api/v1/rest-auth/registration/",data:a.state}).then((function(e){console.log(e),localStorage.setItem("token",e.data.key),a.props.history.push("/schedule")})).catch((function(e){console.log(e)}))},a.state={username:"",password1:"",password2:"",email:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"password",name:"password1",placeholder:"password",value:this.state.password1,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"password",name:"password2",placeholder:"confirm password",value:this.state.password2,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",value:"Register"},"Register"))}}]),t}(o.a.Component),S=a(186);a(156);var j=function(e){return o.a.createElement("div",null,o.a.createElement(S.a,{className:"container"},o.a.createElement(S.a,null,o.a.createElement(S.a.Item,null,o.a.createElement("img",{className:" carousel-image",src:"https://gravityjack.com/wp-content/uploads/2016/08/mobile-app-communication.jpg",alt:"First slide"}),o.a.createElement(S.a.Caption,null,o.a.createElement("p",null,"REAL TIME COMMUNICATION AT YOUR FINGERTIPS"))),o.a.createElement(S.a.Item,null,o.a.createElement("img",{className:"d-block w-100 carousel-image",src:"https://integratedwork.com/wp-content/uploads/2018/05/Ideas-e1527025600841.png",alt:"Third slide"}),o.a.createElement(S.a.Caption,null)),o.a.createElement(S.a.Item,null,o.a.createElement("img",{className:"d-block w-100 carousel-image",src:"https://integratedwork.com/wp-content/uploads/2018/05/Communications-Flow-Graphic.png",alt:"Third slide"}),o.a.createElement(S.a.Caption,null)))))},k=a(29),C=a(185),O=a(33),y=a.n(O);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleStatus=function(e){console.log("event firing onchange")},a.state={status:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t={not_started:"Not Started",in_progress:"In Progress",complete:"Completed"}[this.props.job.status];return o.a.createElement("tr",{className:"schedule.color"},o.a.createElement("td",{className:"schedule.list"},this.props.index),o.a.createElement("td",null,"#"),o.a.createElement("td",null,y()(this.props.job.start_date).format("LL")),o.a.createElement("td",null,o.a.createElement("a",{href:"/jobs/detail/"+this.props.job.id},this.props.job.location)),o.a.createElement("td",null,this.props.job.supervisor.username),o.a.createElement("td",null,o.a.createElement(C.a,{className:"button"},o.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic",onChange:this.handleStatus},t),o.a.createElement(C.a.Menu,null,o.a.createElement(C.a.Item,{name:"not_started",onClick:function(t){return e.props.updateStatus("not_started",e.props.job)}},"Not Started"),o.a.createElement(C.a.Item,{name:"in_progress",onClick:function(t){return e.props.updateStatus("in_progress",e.props.job)}},"In Progress"),o.a.createElement(C.a.Item,{name:"complete",onClick:function(t){return e.props.updateStatus("complete",e.props.job)}},"Completed")))))}}]),t}(o.a.Component),w=a(182);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getJobs=function(){b.a.get("/api/v1/jobs/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){a.setState({jobs:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.updateStatus=function(e,t){b.a.patch("/api/v1/jobs/".concat(t.id,"/"),{status:e},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(n){console.log("update sent",n.data);var o=Object(k.a)(a.state.jobs),l=o.indexOf(t);o[l].status=e,a.setState({jobs:o}),"in progress, complete"===e&&b.a.post("/api/v1/twiliocall/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.state={jobs:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJobs()}},{key:"render",value:function(){var e=this;console.log("joblist component");var t=this.state.jobs.map((function(t){return o.a.createElement(N,{key:t.id,job:t,updateStatus:e.updateStatus})}));return o.a.createElement(w.a,{responsive:!0},o.a.createElement("thead",{className:"head-item"},o.a.createElement("tr",{className:"ttr"},o.a.createElement("th",null),o.a.createElement("th",null,"Start Date"),o.a.createElement("th",null,"Location"),o.a.createElement("th",null,"Supervisor"),o.a.createElement("th",null,"Status"))),o.a.createElement("tbody",null,t))}}]),t}(o.a.Component),x=a(183),_=a(184),T=a(88),D=a.n(T);Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL;b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSelection=function(e,t){a.setState(Object(m.a)({},e.target.name,t),(function(){return console.log(a.state)}))},a.handleSubmit=function(e){e.preventDefault(),console.log(e.target.name);new Date("MM-DD-YYYY");var t=Object.assign({},a.state),n=new FormData;n.append("start_date",t.start_date),n.append("location",t.location),n.append("details",t.details),n.append("materials",JSON.stringify(t.materials)),n.append("supervisor",a.state.supervisor.id),b()({method:"POST",url:"http://localhost:3000/api/v1/jobs/",data:n,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e),a.props.history.push("/schedule/")})).catch((function(e){console.log(e)}))},a.getSupervisors=function(){b.a.get("/api/v1/supervisors/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){console.log("response",e.data),a.setState({supervisors:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.getEmployees=function(){b.a.get("/api/v1/employees/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){a.setState({employees:e.data})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.getMaterials=function(){b.a.get("/api/v1/materials/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){console.log("response",e.data);var t=Object(k.a)(a.state.availableMaterials);e.data.map((function(e){var a={};a.value=e.text,t.push(a)})),a.setState({availableMaterials:t})})).catch((function(e){console.log("Oops, something went wrong",e)}))},a.state={start_date:"",location:"",details:"",materials:[],employee:"",supervisor:"",supervisors:[],employees:[],availableMaterials:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getSupervisors(),this.getMaterials(),this.getEmployees()}},{key:"render",value:function(){var e=this;console.log("state",this.state);var t=this.state.supervisors.map((function(t){return o.a.createElement(C.a.Item,{key:t.id,name:"supervisor",onClick:function(a){return e.handleSelection(a,t)}},t.first_name+" "+t.last_name)})),a=this.state.employees.map((function(t){return o.a.createElement(C.a.Item,{key:t.id,name:"employee",onClick:function(a){return e.handleSelection(a,t)}},t.first_name+" "+t.last_name)}));return o.a.createElement("div",{className:"add-job-form"},o.a.createElement(x.a,null,o.a.createElement(_.a,{md:4},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("h4",null,"Add Job"),o.a.createElement("input",{className:"add-input",type:"text",name:"start_date",placeholder:"Start Date",value:this.state.start_date,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("textarea",{rows:"5",type:"text",name:"details",placeholder:"Details",value:this.state.details,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement(C.a,null,o.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic"},this.state.supervisor?this.state.supervisor.first_name+" "+this.state.supervisor.last_name:"Select Supervisor"),o.a.createElement(C.a.Menu,null,t)),o.a.createElement("br",null),o.a.createElement(D.a,{className:"select-materials",data:this.state.availableMaterials,multiple:!0}),o.a.createElement("br",null),o.a.createElement(C.a,null,o.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic"},this.state.employee?this.state.employee.first_name+" "+this.state.employee.last_name:"Select Employee"),o.a.createElement(C.a.Menu,null,a)),o.a.createElement("br",null),o.a.createElement("button",{name:"save-and-add"},"Save and add another"),o.a.createElement("button",{name:"save"},"Save"))),o.a.createElement(_.a,{md:8},o.a.createElement("img",{className:"imgAddJob",src:"https://blogin.co/uploads/images/naslovna.png"}))),o.a.createElement(x.a,{className:"boxImg"},o.a.createElement(_.a,{md:6},o.a.createElement("img",{className:"imgLeft",src:"https://osmaviation.com/app/uploads/2018/06/Crew-management_shnsrx.png"})),o.a.createElement(_.a,{md:6},o.a.createElement("img",{className:"imgRight",src:"https://blogin.co/uploads/images/naslovna.png"}))))}}]),t}(o.a.Component);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getJob=function(){b.a.get("/api/v1/jobs/".concat(a.props.match.params.id,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){var t=Object.assign(a.state,e.data);a.setState(t)})).catch((function(e){console.log(e)}))},a.handleInput=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleDropdown=function(e){console.log(),a.setState({status:e})},a.handleSubmit=function(e){e.preventDefault();var t={location:a.state.location,details:a.state.details,status:a.state.status};b.a.patch("/api/v1/jobs/3/",t,{headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){a.setState(t),a.setState({details:"",location:"",status:""})})).catch((function(e){console.log(e)}))},a.handleDelete=function(){b.a.delete("/api/v1/jobs/".concat(a.props.match.params.id)).then((function(e){a.props.history.push("/schedule/")})).catch((function(e){console.log(e)}))},a.state={location:"",details:"",status:"",materials:"",start_date:"",employees:"",supervisor:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJob()}},{key:"render",value:function(){var e=this;console.log(this.state);var t={not_started:"Not Started",in_progress:"In Progress",complete:"Completed"}[this.state.status];return o.a.createElement("div",{className:"job_edit"},o.a.createElement(x.a,null,o.a.createElement(_.a,{md:4},o.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},o.a.createElement("h4",null,"Edit"),o.a.createElement("input",{type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"details",placeholder:"Details",value:this.state.details,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"status",placeholder:"Status",value:this.state.status,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"materials",placeholder:"Materials",value:this.state.materials,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"employees",placeholder:"Employees",value:this.state.employees,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"supervisors",placeholder:"Supervisors",value:this.state.supervisors,onChange:this.handleInput}),o.a.createElement("br",null),o.a.createElement("button",null,"Save"),o.a.createElement("button",{type:"button",onClick:this.handleDelete},"Delete"))),o.a.createElement(_.a,{md:8},o.a.createElement("img",{className:"imgAddJob",src:"https://blogin.co/uploads/images/naslovna.png"}))),o.a.createElement(x.a,{className:"boxImg"},o.a.createElement(_.a,{md:6}),o.a.createElement(_.a,{md:8},o.a.createElement("img",{src:"http://remotework.works/wp-content/uploads/2018/06/BurstCommunicationProcess-1024x360.png"}))),o.a.createElement(C.a,{className:"button"},o.a.createElement(C.a.Toggle,{variant:"success",id:"dropdown-basic",onChange:this.handleStatus},t),o.a.createElement(C.a.Menu,null,o.a.createElement(C.a.Item,{onClick:function(){return e.handleDropdown("not_started")}},"Not Started"),o.a.createElement(C.a.Item,{onClick:function(){return e.handleDropdown("in_progress")}},"In Progress"),o.a.createElement(C.a.Item,{onClick:function(){return e.handleDropdown("complete")}},"Completed"))))}}]),t}(o.a.Component),R=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL;b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.state={text:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:function(t){return e.props.addComment(t,e.state.text)}},o.a.createElement("input",{type:"text",name:"text",value:this.state.text,onChange:this.handleInput}),o.a.createElement("button",null,"Save Comment"))}}]),t}(o.a.Component),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).deleteComment=function(e){var t=Object(k.a)(a.state.comments);b.a.delete("/api/v1/comments/".concat(e.id)).then((function(n){var o=t.indexOf(e);t.splice(o,1),a.setState({comments:t})})).catch((function(e){console.log(e)}))},a.getJob=function(){b.a.get("/api/v1/jobs/".concat(a.props.match.params.id)).then((function(e){a.setState(e.data)})).catch((function(e){console.log(e)}))},a.addComment=function(e,t){e.preventDefault(),console.log("text",t);var n=Object(k.a)(a.state.comments),o={method:"POST",headers:{"content-type":"application/json"},data:{text:t,job:a.state.id,user:20},url:"".concat(R,"/api/v1/comments/")};b()(o).then((function(e){console.log(e),n.push(e.data),a.setState({comments:n})})).catch((function(e){console.log(e)}))},a.state={supervisor:"",employees:[],location:"",details:"",materials:[],start_date:"",status:"",comments:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getJob()}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.employees.map((function(e){return o.a.createElement("div",{key:e.id},e.username)})),a=this.state.materials.map((function(e){return o.a.createElement("div",{key:e.id},e.text)})),n=this.state.comments.map((function(t){return o.a.createElement("div",{key:t.id},t.text,o.a.createElement("button",{type:"button",onClick:function(){return e.deleteComment(t)}},"Delete"))}));return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-light",value:"edit"},o.a.createElement(r.b,{className:"edit",to:"/jobs/edit/".concat(this.props.match.params.id)},"Edit")),o.a.createElement("h3",null,this.state.location),o.a.createElement("p",null,"Supervisor- ",this.state.supervisor.username),o.a.createElement("p",null,"Details- ",this.state.details),o.a.createElement("p",null,"Employees:"),t,o.a.createElement("br",null),o.a.createElement("p",null,"Materials:"),a,o.a.createElement("br",null),o.a.createElement("p",null,"Start Date- ",y()(this.state.start_date).format("LL")),o.a.createElement("p",null,"Job Status- ",this.state.status),o.a.createElement("br",null),o.a.createElement("p",null,"Comments:"),n,o.a.createElement(L,{addComment:this.addComment}))}}]),t}(o.a.Component);s.a.render(o.a.createElement(r.a,null,o.a.createElement(i,null,o.a.createElement(c.c,null,o.a.createElement(c.a,{path:"/accounts/login",component:f}),o.a.createElement(c.a,{path:"/accounts/register",component:v}),o.a.createElement(c.a,{path:"/schedule/",component:I}),o.a.createElement(c.a,{path:"/jobs/new/",component:A}),o.a.createElement(c.a,{path:"/jobs/edit/:id/",component:M}),o.a.createElement(c.a,{path:"/jobs/detail/:id/",component:P}),"// ",o.a.createElement(c.a,{path:"/jobs/detail/:id/edit/",component:M}),o.a.createElement(c.a,{exact:!0,path:"/",component:j})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){e.exports=a(180)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.c7560e6b.chunk.js.map